<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<form id="head" th:replace="~{fragments/head.html::head('Users')}"></form>
<body>

<div class="container">
    <div class="main-body p-0">
        <div class="inner-wrapper">
            <!-- Inner sidebar -->
            <form th:replace="~{fragments/sidebar.html :: sidebar}"></form>

            <!-- Inner main -->
            <div class="inner-main">
                <!-- Inner main header -->
                <div th:fragment="inner-main-header" class="inner-main-header">
                    <div class="header-container d-flex justify-content-between align-items-center w-100">
                        <div class="search-wrapper d-flex align-items-center">
                            <form action="#" th:action="@{/users}" method="get" th:object="${filterOptions}">
                                <div class="input-group input-icon input-icon-sm">
                                    <div class="input-group-append">
                                        <input type="text" placeholder="Username" th:field="*{username}"
                                               class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none"/>
                                    </div>
                                    <div class="input-group-append">
                                        <input type="text" placeholder="First Name" th:field="*{firstName}"
                                               class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none"/>
                                    </div>
                                    <div class="input-group-append">
                                        <input type="text" placeholder="Email" th:field="*{email}"
                                               class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none"/>
                                    </div>
                                    <div class="input-group-append">
                                        <select th:field="*{sortBy}"
                                                class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none">
                                            <option value="">Sort By</option>
                                            <option value="username">Username</option>
                                            <option value="firstName">First Name</option>
                                            <option value="email">Email</option>
                                        </select>
                                    </div>
                                    <div class="input-group-append">
                                        <select th:field="*{sortOrder}"
                                                class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none">
                                            <option value="">Sort Order</option>
                                            <option value="asc">Ascending</option>
                                            <option value="desc">Descending</option>
                                        </select>
                                    </div>
                                    <div class="input-group-append">
                                        <button type="submit" class="btn btn-primary btn-sm">
                                            <i class="fas fa-search"></i>
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="button-wrapper align-items-center">
                            <a href="@{/}" th:href="@{/}" class="btn btn-xs text-muted has-icon" title="Home">
                                <i class="fa-solid fa-house fa-2x" style="color: #1890ec;"></i>
                            </a>

                            <a th:unless="${isAuthenticated}" href="#" th:href="@{/auth/login}" class="btn btn-primary mr-2" role="button" th:text="#{auth.login}">Login</a>

                            <a th:if="${isAuthenticated && session.isAdmin}" href="#" th:href="@{/users}" class="btn btn-primary mr-5" th:text="#{navigation.all-users}">Browse all Users</a>

                            <a th:if="${isAuthenticated}" href="#" th:href="@{/users/{id}(id=${session.userId})}" class="btn btn-primary mr-2" th:text="#{navigation.profile}">Profile</a>

                            <a th:if="${isAuthenticated}" href="#" th:href="@{/auth/logout}" class="btn btn-primary mr-2" th:text="#{auth.logout}">Logout</a>

                            <a th:unless="${isAuthenticated}" href="#" th:href="@{/auth/register}" class="btn btn-primary" th:text="#{auth.register}">Register</a>
                        </div>
                    </div>
                </div>

                <div class="inner-main-body p-2 p-sm-3">

                    <div class="d-flex justify-content-center w-auto">
                        <div class="card mb-2 content text-center d-inline-block  p-5">


<!--                            <form action="#" th:action="@{/users}" method="get" th:object="${filterOptions}">-->
<!--                                <div class="input-group input-icon input-icon-sm">-->
<!--                                    <div class="input-group-append">-->
<!--                                        <input type="text" placeholder="Username" th:field="*{username}"-->
<!--                                               class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none"/>-->
<!--                                    </div>-->
<!--                                    <div class="input-group-append">-->
<!--                                        <input type="text" placeholder="First Name" th:field="*{firstName}"-->
<!--                                               class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none"/>-->
<!--                                    </div>-->
<!--                                    <div class="input-group-append">-->
<!--                                        <input type="text" placeholder="Email" th:field="*{email}"-->
<!--                                               class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none"/>-->
<!--                                    </div>-->
<!--                                    <div class="input-group-append">-->
<!--                                        <select th:field="*{sortBy}"-->
<!--                                                class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none">-->
<!--                                            <option value="">Sort By</option>-->
<!--                                            <option value="username">Username</option>-->
<!--                                            <option value="firstName">First Name</option>-->
<!--                                            <option value="email">Email</option>-->
<!--                                        </select>-->
<!--                                    </div>-->
<!--                                    <div class="input-group-append">-->
<!--                                        <select th:field="*{sortOrder}"-->
<!--                                                class="form-control form-control-sm bg-gray-200 border-gray-200 shadow-none">-->
<!--                                            <option value="">Sort Order</option>-->
<!--                                            <option value="asc">Ascending</option>-->
<!--                                            <option value="desc">Descending</option>-->
<!--                                        </select>-->
<!--                                    </div>-->
<!--                                    <div class="input-group-append">-->
<!--                                        <button type="submit" class="btn btn-primary btn-sm">-->
<!--                                            <i class="fas fa-search"></i>-->
<!--                                        </button>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </form>-->
                            <br/>
                            <table class="table">
                                <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Username</th>
                                    <th scope="col">First Name</th>
                                    <th scope="col">Last Name</th>
                                    <th scope="col">Email</th>
                                    <th scope="col">Roles</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="user : ${users}">
                                    <th scope="row" th:text="${user.id}">1</th>
                                    <td><a href="#" th:href="@{/users/{id}(id=${user.id})}" th:text="${user.username}">pesho"</a>
                                    </td>
                                    <td th:text="${user.firstName}">Pesho</td>
                                    <td th:text="${user.lastName}">Peshov</td>
                                    <td th:text="${user.email}">Email</td>
                                    <td th:text="${user.roles}">USER</td>
                                </tr>

                                </tbody>
                            </table>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<form th:replace="~{fragments/footer.html::footer}"></form>

</body>
</html>